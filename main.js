(()=>{"use strict";const e=function(){const e=document.createElement("div");return e.classList.add("loader"),e},t=(()=>{const t=document.querySelector(".content"),n=s("h1",{class:["place"]}),o=s("p",{class:["description"]}),c=s("img",{class:["icon"],src:"#",alt:"Weather Icon"}),r=s("p",{class:["temps","temp_c"]}),a=s("p",{class:["temps","temp_c"]}),i=s("p",{class:["error"]});function s(e,t){const n=document.createElement(e);for(let[e,o]of Object.entries(t))"class"===e?n.setAttribute(e,o.join(" ")):n.setAttribute(e,o);return n}function l(){t.innerHTML=""}return{updatedElements:function(e){l(),n.textContent=`${e.area}, ${e.country}`,o.textContent=e.condition,c.src=e.icon,c.style.visibility="visible",r.textContent=e.tempC+" °C",a.textContent=e.tempF+" ℉",[n,o,c,r,a].forEach((e=>t.appendChild(e)))},loadingIcon:function(){l(),t.appendChild(e())},clear:l,error:function(e){l(),t.appendChild(i),i.innerHTML=e}}})(),n=document.querySelector(".searchForm"),o=document.getElementById("queryBox");n.addEventListener("submit",(function(e){e.preventDefault(),t.loadingIcon();const n=new FormData(e.target);(function(e="london"){return fetch(`https://api.weatherapi.com/v1/current.json?key=441a55bf31ca493eadd235239231704&q=${e}`).then((e=>e.json())).then((e=>e)).catch((e=>{console.log("API error",e)}))})(n.get("query")).then((e=>{t.updatedElements(function(e){return{tempC:e.current.temp_c,tempF:e.current.temp_f,condition:e.current.condition.text,icon:e.current.condition.icon,country:e.location.country,area:e.location.name}}(e)),o.value=""})).catch((e=>{t.error("No results: Please check spelling. Or be more specific. eg 'Waterloo, London, UK'. If problem persists the API may not be available, please try again later."),console.log("Something done went wrong. No data.",e)}))}))})();